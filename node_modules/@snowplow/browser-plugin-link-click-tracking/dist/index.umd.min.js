/*!
 * Link Click tracking for Snowplow v3.24.6 (http://bit.ly/sp-js)
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

"use strict";!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).snowplowLinkClickTracking={})}(this,(function(n){function e(n,e,t){if(t||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function t(n){var e={targetUrl:n.targetUrl,elementId:n.elementId,elementClasses:n.elementClasses,elementTarget:n.elementTarget,elementContent:n.elementContent},t=void 0;for(var o in void 0===t&&(t={}),n={},e)(t[o]||null!=e[o])&&(n[o]=e[o]);return o=function(){var n,e={},t=[],o=[],r=[],i=function(n,t){null!=t&&""!==t&&(e[n]=t)};return{add:i,addDict:function(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&i(e,n[e])},addJson:function(n,e,r){var i;if(i=r)n:{if(null!=r&&(r.constructor==={}.constructor||r.constructor===[].constructor))for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){i=!0;break n}i=!1}i&&(n={keyIfEncoded:n,keyIfNotEncoded:e,json:r},o.push(n),t.push(n))},addContextEntity:function(n){r.push(n)},getPayload:function(){return e},getJson:function(){return t},withJsonProcessor:function(e){n=e},build:function(){return null==n||n(this,o,r),e}}}(),n={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:n}},o.add("e","ue"),o.addJson("ue_px","ue_pr",n),o}function o(n,e,t,o){return n.addEventListener?(n.addEventListener(e,t,o),!0):n.attachEvent?n.attachEvent("on"+e,t):void(n["on"+e]=t)}function r(n){if(null==n||"object"!=typeof n||Array.isArray(n))return function(){return!0};var e=Object.prototype.hasOwnProperty.call(n,"allowlist"),t=function(n){var e={};if(n=n.allowlist||n.denylist){Array.isArray(n)||(n=[n]);for(var t=0;t<n.length;t++)e[n[t]]=!0}return e}(n);return function(n,e){return n.hasOwnProperty("filter")&&n.filter?n.filter:e}(n,(function(n){n:{var o=0;for(n=n.className.match(/\S+/g)||[];o<n.length;o++)if(t[n[o]]){o=!0;break n}o=!1}return o===e}))}function i(n,e,o){for(var r,i,a,l;null!==(r=e.parentElement)&&null!=r&&"A"!==(i=e.tagName.toUpperCase())&&"AREA"!==i;)e=r;if(null!=(r=e).href){(i=r.hostname)||(i=r.href,i=(a=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(i))?a[1]:i),a=i.toLowerCase();var c=r.href.replace(i,a);/^(javascript|vbscript|jscript|mocha|livescript|ecmascript):/i.test(c)||(i=r.id,a=r.className.match(/\S+/g)||[],l=r.target,r=p[n.id].linkTrackingContent?r.innerHTML:void 0,c=unescape(c),n.core.track(t({targetUrl:c,elementId:i,elementClasses:a,elementTarget:l,elementContent:r}),function(n){for(var e,t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return null!==(e=null==n?void 0:n.map((function(n){if("function"!=typeof n)return n;try{return n.apply(void 0,t)}catch(n){}})).filter(Boolean))&&void 0!==e?e:[]}(o,e)))}}function a(n,e){return function(t){var o=(t=t||window.event).which||t.button,r=t.target||t.srcElement;"click"===t.type?r&&i(d[n],r,e):"mousedown"===t.type?1!==o&&2!==o||!r?p[n].lastButton=p[n].lastTarget=null:(p[n].lastButton=o,p[n].lastTarget=r):"mouseup"===t.type&&(o===p[n].lastButton&&r===p[n].lastTarget&&i(d[n],r,e),p[n].lastButton=p[n].lastTarget=null)}}function l(n,e){n=void 0===n?{}:n,p[e]={linkTrackingContent:n.trackContent,linkTrackingContext:n.context,linkTrackingPseudoClicks:n.pseudoClicks,linkTrackingFilter:r(n.options)}}function c(n){var e,t,r,i=document.links;for(r=0;r<i.length;r++)if(null!==(t=(e=p[n]).linkTrackingFilter)&&void 0!==t&&t.call(e,i[r])&&!i[r][n]){var l=n,c=i[r];p[l].linkTrackingPseudoClicks?(o(c,"mouseup",a(l,p[l].linkTrackingContext),!1),o(c,"mousedown",a(l,p[l].linkTrackingContext),!1)):o(c,"click",a(l,p[l].linkTrackingContext),!1),i[r][n]=!0}}var s,u;"function"==typeof SuppressedError&&SuppressedError,(u=s||(s={}))[u.none=0]="none",u[u.error=1]="error",u[u.warn=2]="warn",u[u.debug=3]="debug",u[u.info=4]="info";var f=function(n){return void 0===n&&(n=s.warn),{setLogLevel:function(e){n=s[e]?e:s.warn},warn:function(t,o){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];n>=s.warn&&"undefined"!=typeof console&&(i="Snowplow: "+t,o?console.warn.apply(console,e([i+"\n",o],r,!1)):console.warn.apply(console,e([i],r,!1)))},error:function(t,o){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];n>=s.error&&"undefined"!=typeof console&&(i="Snowplow: "+t+"\n",o?console.error.apply(console,e([i+"\n",o],r,!1)):console.error.apply(console,e([i],r,!1)))},debug:function(t){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];n>=s.debug&&"undefined"!=typeof console&&console.debug.apply(console,e(["Snowplow: "+t],o,!1))},info:function(t){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];n>=s.info&&"undefined"!=typeof console&&console.info.apply(console,e(["Snowplow: "+t],o,!1))}}}(),d={},p={};n.LinkClickTrackingPlugin=function(){return{activateBrowserPlugin:function(n){d[n.id]=n}}},n.enableLinkClickTracking=function(n,e){void 0===n&&(n={}),void 0===e&&(e=Object.keys(d)),e.forEach((function(e){d[e]&&(d[e].sharedState.hasLoaded?(l(n,e),c(e)):d[e].sharedState.registeredOnLoadHandlers.push((function(){l(n,e),c(e)})))}))},n.refreshLinkClickTracking=function(n){void 0===n&&(n=Object.keys(d)),n.forEach((function(n){d[n]&&(d[n].sharedState.hasLoaded?c(n):d[n].sharedState.registeredOnLoadHandlers.push((function(){c(n)})))}))},n.trackLinkClick=function(n,e){void 0===e&&(e=Object.keys(d)),function(n,e,t){try{var o=null!=n?n:Object.keys(e);n=[];for(var r=0;r<o.length;r++){var i=o[r];e.hasOwnProperty(i)?n.push(e[i]):f.warn(i+" not configured")}n.forEach(t)}catch(n){f.error("Function failed",n)}}(e,d,(function(e){e.core.track(t(n),n.context,n.timestamp)}))},Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
